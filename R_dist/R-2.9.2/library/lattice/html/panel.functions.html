<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Useful Panel Functions</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for panel.functions {lattice}"><tr><td>panel.functions {lattice}</td><td align="right">R Documentation</td></tr></table>
<h2>Useful Panel Functions</h2>


<h3>Description</h3>

<p>
These are predefined panel functions available in lattice for use in
constructing new panel functions (usually on-the-fly).
</p>


<h3>Usage</h3>

<pre>

panel.abline(a = NULL, b = 0,
             h = NULL, v = NULL,
             reg = NULL, coef = NULL,
             col, col.line, lty, lwd, alpha, type,
             ...,
             reference = FALSE)
panel.refline(...) 

panel.curve(expr, from, to, n = 101,
            curve.type = "l",
            col, lty, lwd, type,
            ...)
panel.rug(x = NULL, y = NULL,
          regular = TRUE, 
          start = if (regular) 0 else 0.97,
          end = if (regular) 0.03 else 1,
          x.units = rep("npc", 2),
          y.units = rep("npc", 2),
          col, lty, lwd, alpha,
          ...)
panel.average(x, y, fun = mean, horizontal = TRUE,
              lwd, lty, col, col.line, type,
              ...)
panel.linejoin(x, y, fun = mean, horizontal = TRUE,
               lwd, lty, col, col.line, type,
               ...)

panel.fill(col, border, ...)
panel.grid(h=3, v=3, col, col.line, lty, lwd, ...)
panel.lmline(x, y, ...)
panel.loess(x, y, span = 2/3, degree = 1,
            family = c("symmetric", "gaussian"),
            evaluation = 50,
            lwd, lty, col, col.line, type,
            horizontal = FALSE,
            ...)
panel.mathdensity(dmath = dnorm, args = list(mean=0, sd=1),
                  n = 50, col, col.line, lwd, lty, type,
                  ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x, y</code></td>
<td>
variables defining the contents of the panel</td></tr>
<tr valign="top"><td><code>a, b</code></td>
<td>
Coefficients of the line to be added by
<code>panel.abline</code>.  <code>a</code> can be a vector of length 2,
representing the coefficients of the line to be added, in which case
<code>b</code> should be missing.  <code>a</code> can also be an appropriate
&lsquo;regression&rsquo; object, i.e., an object which has a
<code><a href="../../stats/html/coef.html">coef</a></code> method that returns a length 2 numeric vector.
The corresponding line will be plotted.  The <code>reg</code> argument
will override <code>a</code> if specified.
</td></tr>
<tr valign="top"><td><code>coef</code></td>
<td>
Coefficients of the line to be added as a length 2 vector</td></tr>
<tr valign="top"><td><code>reg</code></td>
<td>
A regression object. The corresponding fitted line will
be drawn </td></tr>
<tr valign="top"><td><code>h, v</code></td>
<td>
For <code>panel.abline</code>, these are numeric vectors giving
locations respectively of horizontal and vertical lines to be added
to the plot, in native coordinates.  For <code>panel.grid</code>, these
usually specify the number of horizontal and vertical reference
lines to be added to the plot.  Alternatively, they can be negative
numbers.  <code>h=-1</code> and <code>v=-1</code> are intended to make the grids
aligned with the axis labels.  This doesn't always work; all that
actually happens is that the locations are chosen using
<code>pretty</code>, which is also how the label positions are chosen in
the most common cases (but not for factor or date-time variables,
for instance).  <code>h</code> and <code>v</code> can be negative numbers other
than <code>-1</code>, in which case <code>-h</code> and <code>-v</code> (as
appropriate) is supplied as the <code>n</code> argument to
<code><a href="../../base/html/pretty.html">pretty</a></code>. </td></tr>
<tr valign="top"><td><code>reference</code></td>
<td>
logical indicating whether the default graphical
parameters for <code>panel.abline</code> should be taken from the
&ldquo;reference.line&rdquo; parameter settings.  The default is to take
them from the &ldquo;add.line&rdquo; settings.  The <code>panel.refline</code>
function is a wrapper around <code>panel.abline</code> that calls it with
<code>reference=TRUE</code>.
</td></tr>
<tr valign="top"><td><code>expr</code></td>
<td>
expression as a function of x or a function to plot as a
curve </td></tr>
<tr valign="top"><td><code>n</code></td>
<td>
the number of points to use for drawing the curve </td></tr>
<tr valign="top"><td><code>regular</code></td>
<td>
logical indicating whether the &lsquo;rug&rsquo; is to be
drawn on the regular side (left / bottom) or not (right / top)
</td></tr>
<tr valign="top"><td><code>start, end</code></td>
<td>
endpoints of rug segments, in normalized parent
coordinates (between 0 and 1). Defaults depend on value of regular,
and cover 3% of the panel width and height
</td></tr>
<tr valign="top"><td><code>x.units, y.units</code></td>
<td>
character vector, replicated to be of length two.  Specifies the
(grid) units associated with <code>start</code> and <code>end</code> above.
<code>x.units</code> and <code>y.units</code> are for the rug on the x-axis and
y-axis respectively (and thus are associated with <code>start</code> and
<code>end</code> values on the y and x scales respectively).
</td></tr>
<tr valign="top"><td><code>from, to</code></td>
<td>
optional lower and upper x-limits of curve. If
missing, limits of current panel are used
</td></tr>
<tr valign="top"><td><code>curve.type</code></td>
<td>
type of curve (<code>"p"</code> for points, etc), passed
to <code><a href="llines.html">llines</a></code>
</td></tr>
<tr valign="top"><td><code>col, col.line, lty, lwd, alpha, border</code></td>
<td>
graphical parameters </td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
passed on to <code><a href="llines.html">panel.points</a></code> by
<code>panel.average</code>, but is usually ignored by the other panel
functions documented here.  In such cases, the argument is present
only to make sure an explicitly specified <code>type</code> argument
(perhaps meant for another function) doesn't affect the display.
</td></tr>
<tr valign="top"><td><code>span, degree, family, evaluation</code></td>
<td>
arguments to
<code>loess.smooth</code>, for which <code>panel.loess</code> is essentially
a wrapper.
</td></tr>
<tr valign="top"><td><code>fun</code></td>
<td>
the function that will be applied to the subset of x(y)
determined by the unique values of y(x)</td></tr>
<tr valign="top"><td><code>horizontal</code></td>
<td>
logical. If FALSE, the plot is &lsquo;transposed&rsquo;
in the sense that the behaviours of x and y are switched. x is now
the &lsquo;factor&rsquo;.  Interpretation of other arguments change
accordingly. See documentation of <code><a href="xyplot.html">bwplot</a></code> for a fuller
explanation.
</td></tr>
<tr valign="top"><td><code>dmath</code></td>
<td>
A vectorized function that produces density values
given a numeric vector named <code>x</code>, e.g., <code>dnorm</code></td></tr>
<tr valign="top"><td><code>args</code></td>
<td>
list giving additional arguments to be passed to dmath</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
graphical parameters can be supplied. see function
definition for details. Color can usually be specified by
<code>col</code>, <code>col.line</code> and <code>col.symbol</code>, the last two
overriding the first for lines and points respectively.
</td></tr>
</table>

<h3>Details</h3>

<p>
<code>panel.abline</code> adds a line of the form <code>y=a+bx</code> or vertical
and/or horizontal lines.  Graphical parameters are obtained from the
&ldquo;add.line&rdquo; settings by default.  <code>panel.refline</code> is
similar, but uses the &ldquo;reference.line&rdquo; settings for the
defaults.
</p>
<p>
<code>panel.grid</code> draws a reference grid.
</p>
<p>
<code>panel.curve</code> adds a curve, similar to what <code>curve</code> does
with <code>add = TRUE</code>. Graphical parameters for the line are obtained
from the <code>add.line</code> setting.
</p>
<p>
<code>panel.average</code> treats one of x and y as a factor (according to
the value of <code>horizontal</code>), calculates <code>fun</code> applied to the
subsets of the other variable determined by each unique value of the
factor, and joins them by a line. Can be used in conjunction with
<code>panel.xyplot</code> and more commonly with panel.superpose to produce
interaction plots.  See <code><a href="xyplot.html">xyplot</a></code> documentation for an
example.  <code>panel.linejoin</code> is an alias for <code>panel.average</code>
retained for back-compatibility and may go away in future.
</p>
<p>
<code>panel.mathdensity</code> plots a (usually theoretical) probability
density function.  This can be useful in conjunction with
<code>histogram</code> and <code>densityplot</code> to visually estimate goodness
of fit (note, however, that <code>qqmath</code> is more suitable for this).
</p>
<p>
<code>panel.rug</code> adds a <EM>rug</EM> representation of the (marginal)
data to the panel, much like <code><a href="../../graphics/html/rug.html">rug</a></code>.
</p>
<p>
<code>panel.lmline(x, y)</code> is equivalent to
<code>panel.abline(lm(y~x))</code>.
</p>


<h3>Author(s)</h3>

<p>
Deepayan Sarkar <a href="mailto:Deepayan.Sarkar@R-project.org">Deepayan.Sarkar@R-project.org</a>
</p>


<h3>See Also</h3>

<p>
<code><a href="../../stats/html/scatter.smooth.html">loess.smooth</a></code>,
<code><a href="panel.axis.html">panel.axis</a></code>, <code><a href="interaction.html">panel.identify</a></code>
<code><a href="../../graphics/html/identify.html">identify</a></code>, <code><a href="trellis.par.get.html">trellis.par.set</a></code>
</p>



<hr><div align="center">[Package <em>lattice</em> version 0.17-25 <a href="00Index.html">Index</a>]</div>

</body></html>
