<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Reorder the Levels of a Factor</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../R.css">
</head><body>

<table width="100%" summary="page for reorder.factor {gdata}"><tr><td>reorder.factor {gdata}</td><td align="right">R Documentation</td></tr></table>
<h2>Reorder the Levels of a Factor</h2>


<h3>Description</h3>

<p>
Reorder the levels of a factor
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'factor':
reorder(x,
                         X,
                         FUN,
                         ...,
                         order=is.ordered(x),
                         new.order,
                         sort=mixedsort)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
factor</td></tr>
<tr valign="top"><td><code>X</code></td>
<td>
auxillary data vector</td></tr>
<tr valign="top"><td><code>FUN</code></td>
<td>
function to be applied to subsets of <code>X</code> determined by
<code>x</code>, to determine factor order</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
optional parameters to <code>FUN</code></td></tr>
<tr valign="top"><td><code>order</code></td>
<td>
logical value indicating whether the returned
object should be an <code><a href="../../base/html/factor.html">ordered</a></code> factor</td></tr>
<tr valign="top"><td><code>new.order</code></td>
<td>
a vector of indexes or a vector of label names giving
the order of the new factor levels</td></tr>
<tr valign="top"><td><code>sort</code></td>
<td>
function to use to sort the factor level names, used only
when <code>new.order</code> is missing</td></tr>
</table>

<h3>Details</h3>

<p>
This function changes the order of the levels of a factor. It can do
so via three different mechanisms, depending on whether, <code>X</code>
<EM>and</EM> <code>FUN</code>, <code>new.order</code> or <code>sort</code> are provided.
</p>
<p>
If <code>X</code> <EM>and</EM> <code>Fun</code> are provided: The data in <code>X</code>
is grouped by the levels of <code>x</code> and <code>FUN</code> is applied.
The groups are then sorted by this value, and the resulting order is
used for the new factor level names.
</p>
<p>
If <code>new.order</code> is provided: For a numeric vector, the new factor
level names are constructed by reordering the factor levels according
to the numeric values. For vectors, <code>new.order</code> gives the list of
new factor level names. In either case levels omitted from
<code>new.order</code> will become missing (<code>NA</code>) values.
</p>
<p>
If <code>sort</code> is provided (as it is by default): The new
factor level names are generated by applying the supplied function
to the existing factor level names. With <code>sort=mixedsort</code> the
factor levels are sorted so that combined numeric and character
strings are sorted in according to character rules on the character
sections (including ignoring case), and the numeric rules for the
numeric sections. See <code><a href="../../gtools/html/mixedsort.html">mixedsort</a></code> for details.
</p>


<h3>Value</h3>

<p>
A new factor with reordered levels</p>

<h3>Author(s)</h3>

<p>
Gregory R. Warnes <a href="mailto:greg@random-technologies-llc.com">greg@random-technologies-llc.com</a>
</p>


<h3>See Also</h3>

<p>
<code><a href="../../base/html/factor.html">factor</a></code> and <code><a href="../../stats/html/reorder.html">reorder</a></code>
</p>


<h3>Examples</h3>

<pre>
   # Create a 4 level example factor
   trt &lt;- factor( sample( c("PLACEBO", "300 MG", "600 MG", "1200 MG"),
                  100, replace=TRUE ) )
   summary(trt)
   # Note that the levels are not in a meaningful order.

   # Change the order to something useful
   # default "mixedsort" ordering
   trt2 &lt;- reorder(trt)
   summary(trt2)
   # using indexes:
   trt3 &lt;- reorder(trt, new.order=c(4, 2, 3, 1))
   summary(trt3)
   # using label names:
   trt4 &lt;- reorder(trt, new.order=c("PLACEBO", "300 MG", "600 MG", "1200 MG"))
   summary(trt4)
   # using frequency
   trt5 &lt;- reorder(trt, X=as.numeric(trt), FUN=length)
   summary(trt5)

   # drop out the '300 MG' level
   trt6 &lt;- reorder(trt, new.order=c("PLACEBO", "600 MG", "1200 MG"))
   summary(trt6)
</pre>



<hr><div align="center">[Package <em>gdata</em> version 2.6.1 <a href="00Index.html">Index</a>]</div>

</body></html>
